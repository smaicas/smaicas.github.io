function w(){window.LocalizationJs=new h.LocalizationJsClass}var h;(r=>{class o{async Get(){return window.localStorage["nj-culture"]}async Set(e){window.localStorage["nj-culture"]=e}}r.LocalizationJsClass=o})(h||(h={}));w();var m=(r=>(r[r.None=0]="None",r[r.Error=1]="Error",r[r.Warning=2]="Warning",r[r.Info=3]="Info",r[r.Debug=4]="Debug",r))(m||{});const f=["","\x1B[31m","\x1B[33m","\x1B[36m","\x1B[35m"];class y{constructor(o){this.Level=4,this.className="",this.className=o.name??""}Error(o){this.Log(o==null?void 0:o.toString(),1)}Warn(o){this.Log(o==null?void 0:o.toString(),2)}Info(o){this.Log(o==null?void 0:o.toString(),3)}Debug(o){this.Log(o==null?void 0:o.toString(),4)}Log(o,i){if(o||console.log(o),i<=this.Level){const e=f[i],t=`[${m[i].toUpperCase()}][${this.className}] ${o}`;console.log(`${e}${t}\x1B[0m`)}}}function M(){window.DOMJs=new l.DOMJsClass}var l;(r=>{class o{constructor(){this.logger=new y(o),this.mouseMoveHandlers=new WeakMap,this.inputFileHandlers=new WeakMap}async SetCssVariable(e,t){this.logger.Debug("Set CSS Variable"),this.logger.Debug(`${e} = ${t}`),document.documentElement.style.setProperty(e,t)}async GetCssVariable(e){return getComputedStyle(document.documentElement).getPropertyValue(e)}async SaveLocalStorage(e,t){localStorage.setItem(e,t)}async GetLocalStorage(e){return localStorage.getItem(e)}async GetDivContent(e){return e.innerText}async SetDivContent(e,t){return e.innerText=t,e.innerText}async EnableMouseMove(e,t){if(this.mouseMoveHandlers.get(e))return;const n=s=>{t.invokeMethodAsync("NotifyMouseMove",s.clientX,s.clientY)};e.addEventListener("mousemove",n),this.mouseMoveHandlers.set(e,n)}async DisableMouseMove(e){const t=this.mouseMoveHandlers.get(e);t&&(e.removeEventListener("mousemove",t),this.mouseMoveHandlers.delete(e))}async GetCoordsRelative(e,t){let n=[0,0,0,0],s=e.getBoundingClientRect().height,a=e.getBoundingClientRect().width;switch(t){case"center":return[0,0,0,0];case"top":return[0,0,s,0];case"right":return[0,0,0,a];case"bottom":return[s,0,0,0];case"left":return[0,a,0,0];case"topleft":return[0,a,s,0];case"topright":return[0,0,s,a];case"bottomleft":return[s,a,0,0];case"bottomright":return[s,0,0,a]}return n}async ShowPicker(e){"showPicker"in HTMLInputElement.prototype&&e.showPicker()}async GetFocusedElementClass(){return document.activeElement.classList.toString()}async InputFileInitializeCallbacks(e,t){if(this.inputFileHandlers.get(t))return;const n=s=>{const a=t.files;if(a){let c=[];for(let d=0;d<a.length;d++){let u=a.item(d);c.push({Id:d,Name:u.name,Size:u.size,ContentType:u.type,LastModified:new Date(u.lastModified).toISOString()})}e.invokeMethodAsync("NotifyChange",c)}};t.addEventListener("change",n),this.inputFileHandlers.set(t,n)}async ReadFileData(e,t){const n=e.files.item(t);return await this.readFileStreamAsync(n)}async ReadImageData(e,t){const n=e.files.item(t);return await this.readFileDataAsync(n)}async readFileDataAsync(e){return new Promise((t,n)=>{const s=new FileReader;s.onload=()=>{t(s.result)},s.onerror=a=>{n(a)},s.readAsDataURL(e)})}async readFileStreamAsync(e){return new Promise((t,n)=>{const s=new FileReader;s.onload=()=>{t(s.result)},s.onerror=a=>{n(a)},s.readAsArrayBuffer(e)})}async SetDisabled(e,t){e.disabled=t}async FocusElement(e,t){var n,s;t?(n=t.querySelector(e))==null||n.focus():(s=document.querySelector(e))==null||s.focus()}async ScrollToClosest(e,t){let n=null;t?n=t.matches(e)?t:t.closest(e):n=document.querySelector(e),n&&n.scrollIntoView({behavior:"smooth",block:"start"})}async ScrollTop(e,t){t??(t=0),e?e.scrollTop=t:document.querySelector("body").scrollTop=t}async DownloadFile(e,t,n="text/plain"){const s=new Blob([t],{type:n}),a=window.URL.createObjectURL(s),c=document.createElement("a");c.href=a,c.download=e,document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(a),document.body.removeChild(c)}}r.DOMJsClass=o})(l||(l={}));M();function D(){window.ThemeJs=new g.ThemeClass}var g;(r=>{l.DOMJsClass;const o="nj-darkmode";class i{constructor(){this.dom=new l.DOMJsClass,this.logger=new y(i),this.logger.Level=m.Debug}async InitializeAsync(t){this.dotnet=t;let n=await this.LocalStorageIsDarkMode();if(n!==null){this.logger.Debug(n),await this.dotnet.invokeMethodAsync("SetDarkMode",n);return}let s=await this.UserPreferenceIsDarkMode();if(s!==null){await this.dotnet.invokeMethodAsync("SetDarkMode",s);return}await this.dotnet.invokeMethodAsync("SetDarkMode",!1)}async ToggleDarkMode(){this.logger.Debug("ToggleDarkMode"),document.documentElement.classList.toggle("dark"),document.documentElement.classList.toggle("light")}async SetDarkMode(t){document.documentElement.classList.remove("dark"),document.documentElement.classList.remove("light"),document.documentElement.classList.add(t?"dark":"light"),await this.dom.SaveLocalStorage(o,t.toString())}async LocalStorageIsDarkMode(){const t=await this.dom.GetLocalStorage(o);return t?t==="true":null}async UserPreferenceIsDarkMode(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}}r.ThemeClass=i})(g||(g={}));D();
