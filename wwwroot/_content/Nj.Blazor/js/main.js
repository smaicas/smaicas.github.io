function f(){window.LocalizationJs=new h.LocalizationJsClass}var h;(s=>{class o{async Get(){return window.localStorage["nj-culture"]}async Set(e){window.localStorage["nj-culture"]=e}}s.LocalizationJsClass=o})(h||(h={}));f();var m=(s=>(s[s.None=0]="None",s[s.Error=1]="Error",s[s.Warning=2]="Warning",s[s.Info=3]="Info",s[s.Debug=4]="Debug",s))(m||{});const M=["","\x1B[31m","\x1B[33m","\x1B[36m","\x1B[35m"];class w{constructor(o){this.Level=4,this.className="",this.className=o.name??""}Error(o){this.Log(o==null?void 0:o.toString(),1)}Warn(o){this.Log(o==null?void 0:o.toString(),2)}Info(o){this.Log(o==null?void 0:o.toString(),3)}Debug(o){this.Log(o==null?void 0:o.toString(),4)}Log(o,i){if(o||console.log(o),i<=this.Level){const e=M[i],t=`[${m[i].toUpperCase()}][${this.className}] ${o}`;console.log(`${e}${t}\x1B[0m`)}}}function g(){window.DOMJs=new l.DOMJsClass}var l;(s=>{class o{constructor(){this.logger=new w(o),this.mouseMoveHandlers=new WeakMap,this.inputFileHandlers=new WeakMap}async SetCssVariable(e,t){this.logger.Debug("Set CSS Variable"),this.logger.Debug(`${e} = ${t}`),document.documentElement.style.setProperty(e,t)}async GetCssVariable(e){return getComputedStyle(document.documentElement).getPropertyValue(e)}async SaveLocalStorage(e,t){localStorage.setItem(e,t)}async GetLocalStorage(e){return localStorage.getItem(e)}async GetDivContent(e){return e.innerText}async SetDivContent(e,t){return e.innerText=t,e.innerText}async EnableMouseMove(e,t){if(this.mouseMoveHandlers.get(e))return;const r=n=>{t.invokeMethodAsync("NotifyMouseMove",n.clientX,n.clientY)};e.addEventListener("mousemove",r),this.mouseMoveHandlers.set(e,r)}async DisableMouseMove(e){const t=this.mouseMoveHandlers.get(e);t&&(e.removeEventListener("mousemove",t),this.mouseMoveHandlers.delete(e))}async GetCoordsRelative(e,t){let r=[0,0,0,0],n=e.getBoundingClientRect().height,a=e.getBoundingClientRect().width;switch(t){case"center":return[0,0,0,0];case"top":return[0,0,n,0];case"right":return[0,0,0,a];case"bottom":return[n,0,0,0];case"left":return[0,a,0,0];case"topleft":return[0,a,n,0];case"topright":return[0,0,n,a];case"bottomleft":return[n,a,0,0];case"bottomright":return[n,0,0,a]}return r}async ShowPicker(e){"showPicker"in HTMLInputElement.prototype&&e.showPicker()}async GetFocusedElementClass(){return document.activeElement.classList.toString()}async InputFileInitializeCallbacks(e,t){if(this.inputFileHandlers.get(t))return;const r=n=>{const a=t.files;if(a){let c=[];for(let d=0;d<a.length;d++){let u=a.item(d);c.push({Id:d,Name:u.name,Size:u.size,ContentType:u.type,LastModified:new Date(u.lastModified).toISOString()})}e.invokeMethodAsync("NotifyChange",c)}};t.addEventListener("change",r),this.inputFileHandlers.set(t,r)}async ReadFileData(e,t){const r=e.files.item(t);return await this.readFileStreamAsync(r)}async ReadImageData(e,t){const r=e.files.item(t);return await this.readFileDataAsync(r)}async readFileDataAsync(e){return new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.onerror=a=>{r(a)},n.readAsDataURL(e)})}async readFileStreamAsync(e){return new Promise((t,r)=>{const n=new FileReader;n.onload=()=>{t(n.result)},n.onerror=a=>{r(a)},n.readAsArrayBuffer(e)})}async SetDisabled(e,t){e.disabled=t}async FocusElement(e,t){var r,n;t?(r=t.querySelector(e))==null||r.focus():(n=document.querySelector(e))==null||n.focus()}async ScrollToClosest(e,t){let r=null;t?r=t.matches(e)?t:t.closest(e):r=document.querySelector(e),r&&r.scrollIntoView({behavior:"smooth",block:"start"})}async ScrollTop(e,t){t??(t=0),e?e.scrollTop=t:document.querySelector("body").scrollTop=t}async DownloadFile(e,t,r="text/plain"){const n=new Blob([t],{type:r}),a=window.URL.createObjectURL(n),c=document.createElement("a");c.href=a,c.download=e,document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(a),document.body.removeChild(c)}}s.DOMJsClass=o})(l||(l={}));g();function S(){window.ThemeJs=new y.ThemeClass}var y;(s=>{l.DOMJsClass;const o="nj-darkmode";class i{constructor(){this.dom=new l.DOMJsClass,this.logger=new w(i),this.logger.Level=m.Error}async InitializeAsync(t){this.dotnet=t;let r=await this.LocalStorageIsDarkMode();if(r!==null){await this.dotnet.invokeMethodAsync("SetDarkMode",r);return}let n=await this.UserPreferenceIsDarkMode();if(n!==null){await this.dotnet.invokeMethodAsync("SetDarkMode",n);return}await this.dotnet.invokeMethodAsync("SetDarkMode",!1)}async SetDarkMode(t){document.documentElement.classList.remove("dark"),document.documentElement.classList.remove("light"),document.documentElement.classList.add(t?"dark":"light"),await this.dom.SaveLocalStorage(o,t.toString())}async LocalStorageIsDarkMode(){const t=await this.dom.GetLocalStorage(o);return t?t==="true":null}async UserPreferenceIsDarkMode(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}}s.ThemeClass=i})(y||(y={}));S();
