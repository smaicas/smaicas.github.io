function f(){window.LocalizationJs=new h.LocalizationJsClass}var h;(n=>{class o{async Get(){return window.localStorage["nj-culture"]}async Set(t){window.localStorage["nj-culture"]=t}}n.LocalizationJsClass=o})(h||(h={}));f();var y=(n=>(n[n.None=0]="None",n[n.Error=1]="Error",n[n.Warning=2]="Warning",n[n.Info=3]="Info",n[n.Debug=4]="Debug",n))(y||{});const g=["","\x1B[31m","\x1B[33m","\x1B[36m","\x1B[35m"];class m{constructor(o){this.Level=4,this.className="",this.className=o.name??""}Error(o){this.Log(o==null?void 0:o.toString(),1)}Warn(o){this.Log(o==null?void 0:o.toString(),2)}Info(o){this.Log(o==null?void 0:o.toString(),3)}Debug(o){this.Log(o==null?void 0:o.toString(),4)}Log(o,i){if(o||console.log(o),i<=this.Level){const t=g[i],e=`[${y[i].toUpperCase()}][${this.className}] ${o}`;console.log(`${t}${e}\x1B[0m`)}}}function M(){window.DOMJs=new u.DOMJsClass}var u;(n=>{class o{constructor(){this.logger=new m(o),this.mouseMoveHandlers=new WeakMap,this.inputFileHandlers=new WeakMap}async SetCssVariable(t,e){this.logger.Debug("Set CSS Variable"),this.logger.Debug(`${t} = ${e}`),document.documentElement.style.setProperty(t,e)}async GetCssVariable(t){return getComputedStyle(document.documentElement).getPropertyValue(t)}async SaveLocalStorage(t,e){localStorage.setItem(t,e)}async GetLocalStorage(t){return localStorage.getItem(t)}async GetDivContent(t){return t.innerText}async SetDivContent(t,e){return t.innerText=e,t.innerText}async EnableMouseMove(t,e){if(this.mouseMoveHandlers.get(t))return;const r=a=>{e.invokeMethodAsync("NotifyMouseMove",a.clientX,a.clientY)};t.addEventListener("mousemove",r),this.mouseMoveHandlers.set(t,r)}async DisableMouseMove(t){const e=this.mouseMoveHandlers.get(t);e&&(t.removeEventListener("mousemove",e),this.mouseMoveHandlers.delete(t))}async GetCoordsRelative(t,e){let r=[0,0,0,0],a=t.getBoundingClientRect().height,s=t.getBoundingClientRect().width;switch(e){case"center":return[0,0,0,0];case"top":return[0,0,a,0];case"right":return[0,0,0,s];case"bottom":return[a,0,0,0];case"left":return[0,s,0,0];case"topleft":return[0,s,a,0];case"topright":return[0,0,a,s];case"bottomleft":return[a,s,0,0];case"bottomright":return[a,0,0,s]}return r}async ShowPicker(t){"showPicker"in HTMLInputElement.prototype&&t.showPicker()}async GetFocusedElementClass(){return document.activeElement.classList.toString()}async InputFileInitializeCallbacks(t,e){if(this.inputFileHandlers.get(e))return;const r=a=>{const s=e.files;if(s){let c=[];for(let l=0;l<s.length;l++){let d=s.item(l);c.push({Id:l,Name:d.name,Size:d.size,ContentType:d.type,LastModified:new Date(d.lastModified).toISOString()})}t.invokeMethodAsync("NotifyChange",c)}};e.addEventListener("change",r),this.inputFileHandlers.set(e,r)}async ReadFileData(t,e){const r=t.files.item(e);return await this.readFileStreamAsync(r)}async ReadImageData(t,e){const r=t.files.item(e);return await this.readFileDataAsync(r)}async readFileDataAsync(t){return new Promise((e,r)=>{const a=new FileReader;a.onload=()=>{e(a.result)},a.onerror=s=>{r(s)},a.readAsDataURL(t)})}async readFileStreamAsync(t){return new Promise((e,r)=>{const a=new FileReader;a.onload=()=>{e(a.result)},a.onerror=s=>{r(s)},a.readAsArrayBuffer(t)})}async SetDisabled(t,e){t.disabled=e}async FocusElement(t,e){var r,a;e?(r=e.querySelector(t))==null||r.focus():(a=document.querySelector(t))==null||a.focus()}async ScrollToClosest(t,e){let r=null;e?r=e.matches(t)?e:e.closest(t):r=document.querySelector(t),r&&r.scrollIntoView({behavior:"smooth",block:"start"})}async ScrollTop(t,e){e??(e=0),t?t.scrollTop=e:document.querySelector("body").scrollTop=e}async DownloadFile(t,e,r="text/plain"){const a=new Blob([e],{type:r}),s=window.URL.createObjectURL(a),c=document.createElement("a");c.href=s,c.download=t,document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(s),document.body.removeChild(c)}}n.DOMJsClass=o})(u||(u={}));M();function S(){window.ThemeJs=new w.ThemeClass}var w;(n=>{const o="nj-darkmode";class i{constructor(){this.dom=new u.DOMJsClass,this.logger=new m(i),this.logger.Level=y.Error}async InitializeAsync(){let e=await this.LocalStorageIsDarkMode();if(e!==null){await this.SetDarkMode(e);return}let r=await this.UserPreferenceIsDarkMode();if(r!==null){await this.SetDarkMode(r);return}await await this.SetDarkMode(!1)}async SetDarkMode(e){document.documentElement.classList.remove("dark"),document.documentElement.classList.remove("light"),document.documentElement.classList.add(e?"dark":"light"),await this.dom.SaveLocalStorage(o,e.toString())}async ToggleDarkMode(){let e=!await this.IsDarkMode();return this.SetDarkMode(e),e}async IsDarkMode(){return await this.LocalStorageIsDarkMode(),await this.LocalStorageIsDarkMode()}async LocalStorageIsDarkMode(){const e=await this.dom.GetLocalStorage(o);return e?e==="true":null}async UserPreferenceIsDarkMode(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}}n.ThemeClass=i})(w||(w={}));S();
