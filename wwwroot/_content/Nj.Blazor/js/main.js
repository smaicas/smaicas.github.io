function f(){window.LocalizationJs=new h.LocalizationJsClass}var h;(a=>{class n{async Get(){return window.localStorage["nj-culture"]}async Set(e){window.localStorage["nj-culture"]=e}}a.LocalizationJsClass=n})(h||(h={}));f();var g=(a=>(a[a.None=0]="None",a[a.Error=1]="Error",a[a.Warning=2]="Warning",a[a.Info=3]="Info",a[a.Debug=4]="Debug",a))(g||{});const w=["","\x1B[31m","\x1B[33m","\x1B[36m","\x1B[35m"];class y{constructor(n){this.Level=4,this.className="",this.className=n.name??""}Error(n){this.Log(n==null?void 0:n.toString(),1)}Warn(n){this.Log(n==null?void 0:n.toString(),2)}Info(n){this.Log(n==null?void 0:n.toString(),3)}Debug(n){this.Log(n==null?void 0:n.toString(),4)}Log(n,c){if(n||console.log(n),c<=this.Level){const e=w[c],t=`[${g[c].toUpperCase()}][${this.className}] ${n}`;console.log(`${e}${t}\x1B[0m`)}}}function M(){window.DOMJs=new l.DOMJsClass}var l;(a=>{class n{constructor(){this.logger=new y(n),this.mouseMoveHandlers=new WeakMap,this.inputFileHandlers=new WeakMap}async SetCssVariable(e,t){this.logger.Debug("Set CSS Variable"),this.logger.Debug(`${e} = ${t}`),document.documentElement.style.setProperty(e,t)}async GetCssVariable(e){return getComputedStyle(document.documentElement).getPropertyValue(e)}async SaveLocalStorage(e,t){localStorage.setItem(e,t)}async GetLocalStorage(e){return localStorage.getItem(e)}async GetDivContent(e){return e.innerText}async SetDivContent(e,t){return e.innerText=t,e.innerText}async EnableMouseMove(e,t){if(this.mouseMoveHandlers.get(e))return;const o=s=>{t.invokeMethodAsync("NotifyMouseMove",s.clientX,s.clientY)};e.addEventListener("mousemove",o),this.mouseMoveHandlers.set(e,o)}async DisableMouseMove(e){const t=this.mouseMoveHandlers.get(e);t&&(e.removeEventListener("mousemove",t),this.mouseMoveHandlers.delete(e))}async GetCoordsRelative(e,t){let o=[0,0,0,0],s=e.getBoundingClientRect().height,r=e.getBoundingClientRect().width;switch(t){case"center":return[0,0,0,0];case"top":return[0,0,s,0];case"right":return[0,0,0,r];case"bottom":return[s,0,0,0];case"left":return[0,r,0,0];case"topleft":return[0,r,s,0];case"topright":return[0,0,s,r];case"bottomleft":return[s,r,0,0];case"bottomright":return[s,0,0,r]}return o}async ShowPicker(e){"showPicker"in HTMLInputElement.prototype&&e.showPicker()}async GetFocusedElementClass(){return document.activeElement.classList.toString()}async InputFileInitializeCallbacks(e,t){if(this.inputFileHandlers.get(t))return;const o=s=>{const r=t.files;if(r){let i=[];for(let d=0;d<r.length;d++){let u=r.item(d);i.push({Id:d,Name:u.name,Size:u.size,ContentType:u.type,LastModified:new Date(u.lastModified).toISOString()})}e.invokeMethodAsync("NotifyChange",i)}};t.addEventListener("change",o),this.inputFileHandlers.set(t,o)}async ReadFileData(e,t){const o=e.files.item(t);return await this.readFileStreamAsync(o)}async ReadImageData(e,t){const o=e.files.item(t);return await this.readFileDataAsync(o)}async readFileDataAsync(e){return new Promise((t,o)=>{const s=new FileReader;s.onload=()=>{t(s.result)},s.onerror=r=>{o(r)},s.readAsDataURL(e)})}async readFileStreamAsync(e){return new Promise((t,o)=>{const s=new FileReader;s.onload=()=>{t(s.result)},s.onerror=r=>{o(r)},s.readAsArrayBuffer(e)})}async SetDisabled(e,t){e.disabled=t}async FocusElement(e,t){var o,s;t?(o=t.querySelector(e))==null||o.focus():(s=document.querySelector(e))==null||s.focus()}async ScrollToClosest(e,t){let o=null;t?o=t.matches(e)?t:t.closest(e):o=document.querySelector(e),o&&o.scrollIntoView({behavior:"smooth",block:"start"})}async ScrollTop(e,t){t??(t=0),e?e.scrollTop=t:document.querySelector("body").scrollTop=t}async DownloadFile(e,t,o="text/plain"){const s=new Blob([t],{type:o}),r=window.URL.createObjectURL(s),i=document.createElement("a");i.href=r,i.download=e,document.body.appendChild(i),i.click(),window.URL.revokeObjectURL(r),document.body.removeChild(i)}}a.DOMJsClass=n})(l||(l={}));M();function D(){window.ThemeJs=new m.ThemeClass}var m;(a=>{l.DOMJsClass;const n=["dark","light"],c="darkModePreference";class e{constructor(){this.dom=new l.DOMJsClass,this.logger=new y(e)}async InitializeAsync(o){this.logger.Debug("InitializeAsync"),this.dotnet=o,await this.InitializeDocumentClassFromStorage()===!1&&await this.InitializeDocumentClassFromUserPreference();let s=this.IsDarkMode();await this.dom.SaveLocalStorage(c,s.toString()),await this.dotnet.invokeMethodAsync("SetDarkMode",s)}async ToggleDarkMode(){this.logger.Debug("ToggleDarkMode"),document.documentElement.classList.toggle("dark"),document.documentElement.classList.toggle("light")}async InitializeDocumentClassFromStorage(){const o=await this.dom.GetLocalStorage(c);if(o!==null){const s=o==="true";return this.HasAnyModeClass()===!1&&document.documentElement.classList.add(s?"dark":"light"),!0}return!1}async InitializeDocumentClassFromUserPreference(){this.HasAnyModeClass()===!1&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.add("light"))}IsDarkMode(){return document.documentElement.classList.contains("dark")}HasAnyModeClass(){return n.some(o=>document.documentElement.classList.contains(o))}}a.ThemeClass=e})(m||(m={}));D();
